{
	"info": {
		"_postman_id": "254837e2-9ee1-41b3-8a01-b02901de8001",
		"name": "AEP - Profile integration for ISVs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "0: Initialize and Authenticate",
			"item": [
				{
					"name": "INIT: Load Crypto Library for RS256",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3453ba9a-dadd-420a-83ea-450fff3273d7",
								"exec": [
									"postman.setGlobalVariable(\"jsrsasign-js\", responseBody);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js",
							"protocol": "http",
							"host": [
								"kjur",
								"github",
								"io"
							],
							"path": [
								"jsrsasign",
								"jsrsasign-latest-all-min.js"
							]
						},
						"description": "Load the RSA-Sign Crypto LIbrary in a global environment variable\n\nSource: http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js\n\nGithub: https://github.com/kjur/jsrsasign"
					},
					"response": []
				},
				{
					"name": "AUTH: Generate JWT and Access Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cc5ac352-301c-440b-8284-7ca0cee6aeb7",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"pm.environment.set(\"ACCESS_TOKEN\", data.access_token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "875777ea-4897-4d22-b998-0564fab686d6",
								"exec": [
									"// Tips from: https://github.com/kjur/jsrsasign/issues/199",
									"// https://github.com/kjur/jsrsasign/wiki/Tutorial-for-JWT-generation",
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(postman.getGlobalVariable(\"jsrsasign-js\")); //import javascript jsrsasign",
									"var header = {",
									"\t\"alg\": \"RS256\"",
									"};",
									"",
									"var ims_cleaned = '';",
									"if(pm.environment.get(\"IMS\").indexOf(\"https://\") < 0){",
									"    ims_cleaned =  \"https://\" + pm.environment.get(\"IMS\")",
									"} else {",
									"    ims_cleaned = pm.environment.get(\"IMS\")",
									"}",
									"",
									"var data = {",
									"\t\"exp\": Math.round(87000 + Date.now()/1000),",
									"\t\"iss\": pm.environment.get(\"IMS_ORG\"),",
									"\t\"sub\": pm.environment.get(\"TECHNICAL_ACCOUNT_ID\"),",
									"\t\"aud\": ims_cleaned +\"/c/\"+pm.environment.get(\"API_KEY\")",
									"};",
									"",
									"if(typeof(pm.environment.get(\"META_SCOPE\"))==\"object\"){",
									"    var meta_scope_to_split = pm.environment.get(\"META_SCOPE\")[0]",
									"} else {",
									"    var meta_scope_to_split = pm.environment.get(\"META_SCOPE\")  ",
									"}",
									"meta_scopes = meta_scope_to_split.split(\",\");",
									"",
									"",
									"meta_scopes.forEach(function(scope){",
									"    var meta_scope = ims_cleaned+\"/s/\"+",
									"                     scope;",
									"    data[meta_scope] = true;",
									"});",
									"var secret = pm.environment.get(\"PRIVATE_KEY\");",
									"var sHeader = JSON.stringify(header);",
									"var sPayload = JSON.stringify(data);",
									"var sJWT = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, secret);",
									"console.log(sPayload);",
									"console.log(sJWT);",
									"pm.environment.set(\"JWT_TOKEN\", sJWT);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "client_id",
									"value": "{{API_KEY}}",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "{{CLIENT_SECRET}}",
									"type": "text"
								},
								{
									"key": "jwt_token",
									"value": "{{JWT_TOKEN}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{IMS}}/ims/exchange/jwt/",
							"protocol": "https",
							"host": [
								"{{IMS}}"
							],
							"path": [
								"ims",
								"exchange",
								"jwt",
								""
							]
						},
						"description": "Generate a JWT token using the Crypto RS256\nSend to IMS for access_token"
					},
					"response": []
				},
				{
					"name": "Schema: Return {TENANT_ID} and Schema Registry usage information",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "181854da-a59d-41a6-ab9e-819bf165b7e9",
								"exec": [
									"/** Begin Adobe-provided Pre-Request Scripts **/",
									"// Do not send HTTP Headers with empty variables, as Postman will send the literal variable name",
									"pm.request.headers.each(header => {",
									"    if (header.value.startsWith(\"{{\") && header.value.endsWith(\"}}\")) {",
									"        if (!pm.variables.get(header.value.substring(2, header.value.length - 2))) { pm.request.headers.remove(header.key); }",
									"    }",
									"});",
									"",
									"// Do not send HTTP URL Query Parameters with empty variables, as Postman will send the literal variable name",
									"pm.request.url.query.remove(q => { ",
									"    if (q.value.startsWith(\"{{\") && q.value.endsWith(\"}}\")) {",
									"        return !pm.variables.get(q.value.substring(2, q.value.length - 2));",
									"    } ",
									"});",
									"",
									"/** End Adobe-provided Pre-Request Scripts **/"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a789a8e8-a9ff-4f72-9980-530b01d0bfb1",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"pm.environment.set(\"TENANT_ID\", data.tenantId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.adobe.xed+json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"description": "The access token provided after authorization in the format \"Bearer {ACCESS_TOKEN}\"",
								"key": "Authorization",
								"type": "string",
								"value": "Bearer {{ACCESS_TOKEN}}"
							},
							{
								"description": "Your specific API key for your unique Platform configuration ({API_KEY})",
								"key": "x-api-key",
								"type": "string",
								"value": "{{API_KEY}}"
							},
							{
								"description": "Unique Identifier for your IMS Organization ({IMS_ORG})",
								"key": "x-gw-ims-org-id",
								"type": "string",
								"value": "{{IMS_ORG}}"
							},
							{
								"description": "The name of the sandbox in which the operation will take place. See the [sandboxes overview documentation](https://www.adobe.io/apis/experienceplatform/home/permissions-and-sandboxes/permissions-and-sandboxes.html#!api-specification/markdown/narrative/technical_overview/sandboxes/sandboxes-overview.md) for more information.",
								"key": "x-sandbox-name",
								"type": "string",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/stats",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"schemaregistry",
								"stats"
							]
						},
						"description": "This call will capture the tenantId into a Postman environment variable {{TENANT_ID}}; which is needed for Schema related API calls"
					},
					"response": []
				},
				{
					"name": "Create Streaming Connection",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c2c9cbd0-5e05-4feb-a87b-c4a53cfcc3d7",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"pm.environment.set(\"CONNECTION_ID\", data[\"id\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "bearer {{ACCESS_TOKEN}}"
							},
							{
								"key": "x-api-key",
								"type": "text",
								"value": "{{API_KEY}}"
							},
							{
								"key": "x-gw-ims-org-id",
								"type": "text",
								"value": "{{IMS_ORG}}"
							},
							{
								"key": "x-sandbox-name",
								"type": "text",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n     \"name\": \"First Postman Test\",\n     \"providerId\": \"521eee4d-8cbe-4906-bb48-fb6bd4450033\",\n     \"description\": \"Testing Postman\",\n     \"connectionSpec\": {\n         \"id\": \"bc7b00d6-623a-4dfc-9fdb-f1240aeadaeb\",\n         \"version\": \"1.0\"\n     },\n     \"auth\": {\n         \"specName\": \"Streaming Connection\",\n         \"params\": {\n             \"sourceId\": \"Sample connection\",\n             \"dataType\": \"xdm\",\n             \"name\": \"Sample connection\"\n         }\n     }\n }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/flowservice/connections",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"flowservice",
								"connections"
							]
						}
					},
					"response": []
				},
				{
					"name": "Event Config: Create a new custom event type (loyaltyBalanceUpdate)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e7afad72-0c99-433c-9d79-ab9cfbb44e34",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "bearer {{ACCESS_TOKEN}}"
							},
							{
								"key": "x-api-key",
								"type": "text",
								"value": "{{API_KEY}}"
							},
							{
								"key": "x-gw-ims-org-id",
								"type": "text",
								"value": "{{IMS_ORG}}"
							},
							{
								"key": "x-sandbox-name",
								"type": "text",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"loyaltyBalanceUpdate\",\n  \"imsOrgId\": \"{{IMS_ORG}}\",\n  \"title\": \"Loyalty Balance Update\",\n  \"description\": \"Change to the points balance for a loyalty member\",\n  \"global\": true\n}"
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/core/ups/config/eventTypes",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"core",
								"ups",
								"config",
								"eventTypes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Event Config: Create a new custom event type (loyaltyLevelUpdate)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "30f62b0e-e6c8-43d4-bb31-bdaea349b460",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "bearer {{ACCESS_TOKEN}}"
							},
							{
								"key": "x-api-key",
								"type": "text",
								"value": "{{API_KEY}}"
							},
							{
								"key": "x-gw-ims-org-id",
								"type": "text",
								"value": "{{IMS_ORG}}"
							},
							{
								"key": "x-sandbox-name",
								"type": "text",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"loyaltyLevelUpdate\",\n  \"imsOrgId\": \"{{IMS_ORG}}\",\n  \"title\": \"Loyalty Level Update\",\n  \"description\": \"Change to the program level for a loyalty member\",\n  \"global\": true\n}"
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/core/ups/config/eventTypes",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"core",
								"ups",
								"config",
								"eventTypes"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "1: Create Schema",
			"item": [
				{
					"name": "1a: Create Schema for PROFILE data",
					"item": [
						{
							"name": "Schema: Create Mixin containing Loyalty PROFILE details",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "413bcfcd-5b69-440c-b04a-0fedd2853e32",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"MIXIN_ID_PROFILE\", data[\"$id\"]);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "91e70186-8706-45c3-b855-9f3e7769b4f8",
										"exec": [
											"if(! pm.environment.get(\"UNIQUE_ID\") )",
											"    pm.environment.set(\"UNIQUE_ID\", \"\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"object\",\n  \"title\": \"{{UNIQUE_ID}}Loyalty Profile Details\",\n  \"description\": \"Loyalty Program Mixin to describe members of the Loyalty Program.\",\n  \"meta:intendedToExtend\": [\n    \"https://ns.adobe.com/xdm/context/profile\"\n  ],\n  \"definitions\": {\n    \"loyalty\": {\n      \"properties\": {\n        \"_{{TENANT_ID}}\": {\n        \t\"type\": \"object\",\n        \t\"properties\": {\n\t\t\t\t\"totalLoyaltyPoints\": {\n\t\t\t\t    \"title\": \"Total Loyalty Points\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"integer\",\n\t\t\t\t    \"isRequired\": false,\n\t\t\t\t    \"meta:xdmType\": \"int\"\n\t\t\t\t},\n\t\t\t\t\"loyaltyLevel\": {\n\t\t\t\t    \"title\": \"Loyalty Level\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"string\",\n\t\t\t\t    \"isRequired\": false,\n\t\t\t\t    \"enum\": [\n\t\t\t\t        \"Silver\",\n\t\t\t\t        \"Gold\",\n\t\t\t\t        \"Platinum\",\n\t\t\t\t        \"Diamond\"\n\t\t\t\t    ],\n\t\t\t\t    \"meta:enum\": {\n\t\t\t\t        \"Silver\": \"Silver\",\n\t\t\t\t        \"Gold\": \"Gold\",\n\t\t\t\t        \"Platinum\": \"Platinum\",\n\t\t\t\t        \"Diamond\": \"Diamond\"\n\t\t\t\t    },\n\t\t\t\t    \"meta:xdmType\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"loyaltyID\": {\n\t\t\t\t    \"title\": \"Loyalty ID\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"string\",\n\t\t\t\t    \"isRequired\": true,\n\t\t\t\t    \"format\": \"email\",\n\t\t\t\t    \"meta:xdmType\": \"string\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"meta:xdmType\": \"object\",\n\t\t\t\"required\": [\n\t\t\t\"loyaltyID\"\n\t\t\t]\n          }\n        }\n      }\n    },\n  \"allOf\": [\n    {\n      \"$ref\": \"#/definitions/loyalty\"\n    }\n  ]\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/mixins/",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"mixins",
										""
									]
								},
								"description": "The mixin containing the Loyalty details will be created first. This mixin will then be part of the Schema we will create."
							},
							"response": []
						},
						{
							"name": "Schema: Create PROFILE Schema for Loyalty data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5cdc079a-ad52-4dca-8f21-f2b10da8543d",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"SCHEMA_ID_PROFILE\", data[\"$id\"]);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "cb66de80-7369-4b80-8a13-5d18b6dad90e",
										"exec": [
											"if(! pm.environment.get(\"UNIQUE_ID\") )",
											"    pm.environment.set(\"UNIQUE_ID\", \"\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"type\": \"object\",\n    \"title\": \"{{UNIQUE_ID}}Loyalty Profiles\",\n    \"description\": \"Profile data plus Loyalty data\",\n    \"allOf\": [\n        {\n            \"$ref\": \"https://ns.adobe.com/xdm/context/profile\"\n        },\n        {\n            \"$ref\": \"https://ns.adobe.com/xdm/context/profile-person-details\"\n        },\n        {\n            \"$ref\": \"https://ns.adobe.com/xdm/context/profile-personal-details\"\n        },\n        {\n        \t\"$ref\": \"{{MIXIN_ID_PROFILE}}\"\n        }\n    ],\n    \"meta:immutableTags\": [\n        \"union\"\n    ]\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/schemas/",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"schemas",
										""
									]
								},
								"description": "Create a Schema for importing Loyalty data into the profile.\n\nComponents:\n - XDM Individual Profile (class)\n - Profile person details (mixin; adobe)\n - Profile personal details (mixin; adobe)\n - Loyalty details (mixin; partner)"
							},
							"response": []
						},
						{
							"name": "Schema: Set Primary Identity Descriptor for Loyalty Profile Schema",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7bec3d23-a2bd-4daf-8800-c7114b625b94",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"@type\":\"xdm:descriptorIdentity\",\n    \"xdm:sourceProperty\":\"/_{{TENANT_ID}}/loyaltyID\",\n    \"xdm:property\":\"xdm:code\",\n    \"xdm:isPrimary\":true,\n    \"xdm:namespace\":\"Email\",\n    \"xdm:sourceSchema\":\"{{SCHEMA_ID_PROFILE}}\",\n    \"xdm:sourceVersion\":1\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/descriptors",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"descriptors"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "1b: Create Schema for EVENT data",
					"item": [
						{
							"name": "Schema: Create Mixin containing Loyalty EVENT details",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ecfa917b-b9af-4404-9034-007e5cfbcd0b",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"MIXIN_ID_EVENT\", data[\"$id\"]);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "46d17d5b-8e00-4154-8a18-da831aa9c5f9",
										"exec": [
											"if(! pm.environment.get(\"UNIQUE_ID\") )",
											"    pm.environment.set(\"UNIQUE_ID\", \"\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"object\",\n  \"title\": \"{{UNIQUE_ID}}Loyalty Event Details\",\n  \"description\": \"Loyalty Program Mixin to describe events for the Loyalty Program.\",\n  \"meta:intendedToExtend\": [\n    \"https://ns.adobe.com/xdm/context/experienceevent\"\n  ],\n  \"definitions\": {\n    \"loyalty\": {\n      \"properties\": {\n        \"_{{TENANT_ID}}\": {\n        \t\"type\": \"object\",\n        \t\"properties\": {\n\t\t\t\t\"loyaltyLevel\": {\n\t\t\t\t    \"title\": \"Loyalty Level\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"string\",\n\t\t\t\t    \"isRequired\": false,\n\t\t\t\t    \"enum\": [\n\t\t\t\t        \"Silver\",\n\t\t\t\t        \"Gold\",\n\t\t\t\t        \"Platinum\",\n\t\t\t\t        \"Diamond\"\n\t\t\t\t    ],\n\t\t\t\t    \"meta:enum\": {\n\t\t\t\t        \"Silver\": \"Silver\",\n\t\t\t\t        \"Gold\": \"Gold\",\n\t\t\t\t        \"Platinum\": \"Platinum\",\n\t\t\t\t        \"Diamond\": \"Diamond\"\n\t\t\t\t    },\n\t\t\t\t    \"meta:xdmType\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"totalPoints\": {\n\t\t\t\t    \"title\": \"Total Loyalty Points\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"integer\",\n\t\t\t\t    \"isRequired\": false,\n\t\t\t\t    \"meta:xdmType\": \"int\"\n\t\t\t\t},\n\t\t\t\t\"pointsEarned\": {\n\t\t\t\t    \"title\": \"New Loyalty Points Earned\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"integer\",\n\t\t\t\t    \"isRequired\": false,\n\t\t\t\t    \"meta:xdmType\": \"int\"\n\t\t\t\t},\n\t\t\t\t\"transactionID\": {\n\t\t\t\t    \"title\": \"Loyalty Transaction ID\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"string\",\n\t\t\t\t    \"isRequired\": true,\n\t\t\t\t    \"meta:xdmType\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"loyaltyID\": {\n\t\t\t\t    \"title\": \"Loyalty ID\",\n\t\t\t\t    \"description\": \"\",\n\t\t\t\t    \"type\": \"string\",\n\t\t\t\t    \"isRequired\": true,\n\t\t\t\t    \"format\": \"email\",\n\t\t\t\t    \"meta:xdmType\": \"string\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"meta:xdmType\": \"object\",\n\t\t\t\"required\": [\n\t\t\t\"loyaltyID\"\n\t\t\t]\n          }\n        }\n      }\n    },\n  \"allOf\": [\n    {\n      \"$ref\": \"#/definitions/loyalty\"\n    }\n  ]\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/mixins/",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"mixins",
										""
									]
								},
								"description": "The mixin containing the Loyalty details will be created first. This mixin will then be part of the Schema we will create."
							},
							"response": []
						},
						{
							"name": "Schema: Create EVENT Schema for Loyalty data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4863116f-457c-46c8-a140-e790e0ba805b",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"SCHEMA_ID_EVENT\", data[\"$id\"]);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a38e2a82-5840-4215-888f-edce10a37346",
										"exec": [
											"if(! pm.environment.get(\"UNIQUE_ID\") )",
											"    pm.environment.set(\"UNIQUE_ID\", \"\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"type\": \"object\",\n    \"title\": \"{{UNIQUE_ID}}Loyalty Events\",\n    \"description\": \"Loyalty event data\",\n    \"allOf\": [\n        {\n            \"$ref\": \"https://ns.adobe.com/xdm/context/experienceevent\"\n        },\n        {\n        \t\"$ref\": \"{{MIXIN_ID_EVENT}}\"\n        }\n    ],\n    \"meta:immutableTags\": [\n        \"union\"\n    ]\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/schemas/",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"schemas",
										""
									]
								},
								"description": "Create a Schema for importing Loyalty data into the profile.\n\nComponents:\n - XDM Individual Profile (class)\n - Profile person details (mixin; adobe)\n - Profile personal details (mixin; adobe)\n - Loyalty details (mixin; partner)"
							},
							"response": []
						},
						{
							"name": "Schema: Set Primary Identity Descriptor for Loyalty Event Schema",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7cea76d1-6dfa-48a1-a255-656a884f4748",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"@type\":\"xdm:descriptorIdentity\",\n    \"xdm:sourceProperty\":\"/_{{TENANT_ID}}/loyaltyID\",\n    \"xdm:property\":\"xdm:code\",\n    \"xdm:isPrimary\":true,\n    \"xdm:namespace\":\"Email\",\n    \"xdm:sourceSchema\":\"{{SCHEMA_ID_EVENT}}\",\n    \"xdm:sourceVersion\":1\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/descriptors",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"schemaregistry",
										"tenant",
										"descriptors"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "2: Create DataSet",
			"item": [
				{
					"name": "2a: Create DataSet for PROFILE data",
					"item": [
						{
							"name": "DataSet: Create Dataset for Loyalty PROFILE Records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9a7c1466-e497-4149-b479-4c4552bc60a6",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"var dsId = data[0];",
											"if(dsId.indexOf(\"@/dataSets/\") === 0)",
											"    dsId = dsId.substring(11)",
											"pm.environment.set(\"DATASET_ID_PROFILE\", dsId);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{UNIQUE_ID}}Loyalty Profiles\",\n    \"description\": \"Profile data plus Loyalty data\",\n    \"schemaRef\": {\n        \"id\": \"{{SCHEMA_ID_PROFILE}}\",\n        \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n    },\n    \"fileDescription\": {\n        \"persisted\": true,\n        \"containerFormat\": \"parquet\",\n        \"format\": \"parquet\"\n    },\n    \"tags\": {\n        \"unifiedIdentity\": [\"enabled:true\"],\n        \"unifiedProfile\": [\"enabled:true\"]\n    }\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/catalog/datasets",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"catalog",
										"datasets"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "2b: Create Dataset for EVENT data",
					"item": [
						{
							"name": "DataSet: Create Dataset for Loyalty EVENT Records",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8ad61fdd-ef9e-4ba2-a9c5-6d78ed1ded3f",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"var dsId = data[0];",
											"if(dsId.indexOf(\"@/dataSets/\") === 0)",
											"    dsId = dsId.substring(11)",
											"pm.environment.set(\"DATASET_ID_EVENT\", dsId);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Accept",
										"value": "application/vnd.adobe.xed+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{UNIQUE_ID}}Loyalty Events\",\n    \"description\": \"Loyalty Event data\",\n    \"schemaRef\": {\n        \"id\": \"{{SCHEMA_ID_EVENT}}\",\n        \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n    },\n    \"fileDescription\": {\n        \"persisted\": true,\n        \"containerFormat\": \"parquet\",\n        \"format\": \"parquet\"\n    },\n    \"tags\": {\n        \"unifiedIdentity\": [\"enabled:true\"],\n        \"unifiedProfile\": [\"enabled:true\"]\n    }\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/catalog/datasets",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"catalog",
										"datasets"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "3: Real-time import",
			"item": [
				{
					"name": "3a: Real-time import for PROFILE data",
					"item": [
						{
							"name": "Import: Stream to PROFILE DataSet",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c2562a28-8161-4d54-89d8-5858abfa6e67",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b0db1fc7-6267-4b1e-9dc0-c2dee42eb4d4",
										"exec": [
											"var profile_id = pm.environment.get(\"PROFILE_ID\");",
											"if(!profile_id)",
											"    pm.environment.set(\"PROFILE_ID\",\"jdoe@testprofile.com\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"header\": {\n        \"schemaRef\": {\n            \"id\": \"{{SCHEMA_ID_PROFILE}}\",\n            \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n        },\n        \"imsOrgId\": \"{{IMS_ORG}}\",\n        \"source\": {\n            \"name\": \"{{INLET_SOURCE_ID}}\"\n        },\n        \"datasetId\": \"{{DATASET_ID_PROFILE}}\"\n    },\n    \"body\": {\n        \"xdmMeta\": {\n            \"schemaRef\": {\n                \"id\": \"{{SCHEMA_ID_PROFILE}}\",\n                \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n            }\n        },\n        \"xdmEntity\": {\n        \t\"_exchangeinternal\": {\n                \"loyaltyID\": \"{{PROFILE_ID}}\",\n                \"loyaltyLevel\": \"Silver\",\n                \"totalLoyaltyPoints\": 12000\n            },\n            \"person\": {\n                \"name\": {\n                    \"firstName\": \"Jane\",\n                    \"middleName\": \"B\",\n                    \"lastName\": \"Doe\"\n                },\n                \"birthDate\": \"1980-05-10\",\n                \"gender\": \"female\"\n            },\n            \"personalEmail\": {\n                \"primary\": false,\n                \"address\": \"{{PROFILE_ID}}\",\n                \"type\": \"personal\",\n                \"status\": \"active\"\n            }\n        }\n    }\n}"
								},
								"url": {
									"raw": "{{INLET_URL}}?synchronousValidation=true",
									"host": [
										"{{INLET_URL}}"
									],
									"query": [
										{
											"key": "synchronousValidation",
											"value": "true"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "3b: Real-time import for EVENT data",
					"item": [
						{
							"name": "Import: Stream to EVENT DataSet",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c9696d3b-34a1-4122-af80-0a370533143b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "459aae9f-8f67-43b8-8bf6-a597c616ab8e",
										"exec": [
											"var profile_id = pm.environment.get(\"PROFILE_ID\");",
											"if(!profile_id)",
											"    pm.environment.set(\"PROFILE_ID\",\"jdoe@testprofile.com\");",
											"    ",
											"    ",
											"/*  Create a random number to be the unique event _id  */",
											"var min = 111111111;",
											"var max = 9999999999999;",
											"var randomNumber = Math.random() * (max - min) + min;",
											"pm.variables.set(\"RANDOM_EVENT_ID\", randomNumber);",
											"",
											"",
											"/*  Create an acceptibly formatted timestamp */",
											"var date = new Date();",
											"",
											"var month = date.getUTCMonth();",
											"var day = date.getUTCDate();",
											"var hour = date.getUTCHours();",
											"var min = date.getUTCMinutes();",
											"var sec = date.getUTCSeconds();",
											"",
											"month = (month < 9 ? \"0\" : \"\") + (month+1);",
											"day = (day < 10 ? \"0\" : \"\") + day;",
											"hour = (hour < 10 ? \"0\" : \"\") + hour;",
											"min = (min < 10 ? \"0\" : \"\") + min;",
											"sec = (sec < 10 ? \"0\" : \"\") + sec;",
											"",
											"var str = date.getFullYear() + \"-\" + month + \"-\" + day + \"T\" +  hour + \":\" + min + \":\" + sec + \"Z\";",
											"pm.variables.set(\"TIMESTAMP\", str);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Cache-Control",
										"type": "text",
										"value": "no-cache"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"header\": {\n        \"schemaRef\": {\n            \"id\": \"{{SCHEMA_ID_EVENT}}\",\n            \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n        },\n        \"imsOrgId\": \"{{IMS_ORG}}\",\n        \"source\": {\n            \"name\": \"{{INLET_SOURCE_ID}}\"\n        },\n        \"datasetId\": \"{{DATASET_ID_EVENT}}\"\n    },\n    \"body\": {\n        \"xdmMeta\": {\n            \"schemaRef\": {\n                \"id\": \"{{SCHEMA_ID_EVENT}}\",\n                \"contentType\": \"application/vnd.adobe.xed-full+json;version=1\"\n            }\n        },\n        \"xdmEntity\": {\n        \t\"_exchangeinternal\": {\n                \"loyaltyID\": \"{{PROFILE_ID}}\",\n                \"pointsEarned\": 2000,\n                \"totalPoints\": 16500,\n                \"loyaltyLevel\":\"Silver\",\n                \"transactionID\": \"purchase_12345\"\n            },\n            \"_id\": \"{{RANDOM_EVENT_ID}}\",\n            \"eventType\": \"loyaltyBalanceUpdate\",\n            \"timestamp\":\"{{TIMESTAMP}}\"\n        }\n    }\n}"
								},
								"url": {
									"raw": "{{INLET_URL}}?synchronousValidation=true",
									"host": [
										"{{INLET_URL}}"
									],
									"query": [
										{
											"key": "synchronousValidation",
											"value": "true"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "4: Batch import",
			"item": [
				{
					"name": "4a: Batch import for PROFILE data",
					"item": [
						{
							"name": "Import: Create a Batch for PROFILE data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "69683e3e-6078-4cc4-9e89-21ea8a850bc7",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"BATCH_ID_PROFILE\", data[\"id\"]);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"datasetId\": \"{{DATASET_ID_PROFILE}}\",\n\t\"inputFormat\": {\n\t\t\"format\": \"json\",\n\t\t\"isMultiLineJson\": true\n\t}\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches"
									]
								}
							},
							"response": []
						},
						{
							"name": "Import: Upload file to Batch for PROFILE data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9d8fee1c-62fb-47d1-9b27-fa7fccdf91a9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "70c9775c-27a8-4c43-9bb1-fb794436b981",
										"exec": [
											"var file_name = pm.environment.get(\"IMPORT_BATCH_FILE_NAME\");",
											"if(!file_name)",
											"    pm.environment.set(\"IMPORT_BATCH_FILE_NAME\",\"my-batch.json\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/octet-stream"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/Users/sgubler/Documents/AEP/AEP keystone guide/AEP loyalty profiles 2.json"
									}
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches/{{BATCH_ID_PROFILE}}/datasets/{{DATASET_ID_PROFILE}}/files/{{IMPORT_BATCH_FILE_NAME}}",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches",
										"{{BATCH_ID_PROFILE}}",
										"datasets",
										"{{DATASET_ID_PROFILE}}",
										"files",
										"{{IMPORT_BATCH_FILE_NAME}}"
									]
								},
								"description": "Under \"Body\", choose \"binary\" and select the \"loyalty_import_batch.json\" file downloaded with this collection\n\nExample data can be generated here https://mockaroo.com/22f6f910"
							},
							"response": []
						},
						{
							"name": "Import: Complete a Batch for PROFILE data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0a8494c5-a202-4c3b-b707-e69f0a5315d3",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches/{{BATCH_ID_PROFILE}}?action=COMPLETE",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches",
										"{{BATCH_ID_PROFILE}}"
									],
									"query": [
										{
											"key": "action",
											"value": "COMPLETE"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Import: Check the Status of a Batch for PROFILE data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4a27859d-fbec-4f6b-b88f-3a248f75714f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json",
										"disabled": true
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/catalog/batch/{{BATCH_ID_PROFILE}}",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"catalog",
										"batch",
										"{{BATCH_ID_PROFILE}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "4b: Batch import for EVENT data",
					"item": [
						{
							"name": "Import: Create a Batch for EVENT data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30396f5c-ccc1-455e-8d08-a1b8b276badc",
										"exec": [
											"var data = JSON.parse(responseBody);",
											"pm.environment.set(\"BATCH_ID_EVENT\", data[\"id\"]);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"datasetId\": \"{{DATASET_ID_EVENT}}\",\n\t\"inputFormat\": {\n\t\t\"format\": \"json\",\n\t\t\"isMultiLineJson\": true\n\t}\n}"
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches"
									]
								}
							},
							"response": []
						},
						{
							"name": "Import: Upload file to Batch for EVENT data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fa0fa45f-16e3-4a8a-bd88-10f810fea7ab",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6f712e42-ebeb-4be2-9854-bd47094265fd",
										"exec": [
											"var file_name = pm.environment.get(\"IMPORT_BATCH_FILE_NAME\");",
											"if(!file_name)",
											"    pm.environment.set(\"IMPORT_BATCH_FILE_NAME\",\"my-batch.json\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/octet-stream"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/Users/sgubler/Documents/AEP/AEP keystone guide/AEP loyalty events batch data.json"
									}
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches/{{BATCH_ID_EVENT}}/datasets/{{DATASET_ID_EVENT}}/files/{{IMPORT_BATCH_FILE_NAME}}",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches",
										"{{BATCH_ID_EVENT}}",
										"datasets",
										"{{DATASET_ID_EVENT}}",
										"files",
										"{{IMPORT_BATCH_FILE_NAME}}"
									]
								},
								"description": "Under \"Body\", choose \"binary\" and select the \"loyalty_import_batch.json\" file downloaded with this collection\n\nSample data can be generated with https://mockaroo.com/d419b8a0"
							},
							"response": []
						},
						{
							"name": "Import: Complete a Batch for EVENT data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "00ab97c7-4443-4eda-a3bb-830cc47f8153",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/import/batches/{{BATCH_ID_EVENT}}?action=COMPLETE",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"import",
										"batches",
										"{{BATCH_ID_EVENT}}"
									],
									"query": [
										{
											"key": "action",
											"value": "COMPLETE"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Import: Check the Status of a Batch for EVENT data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aa72b237-2bad-42d7-83d7-14471a9156fb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json",
										"disabled": true
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.adobe.xed+json",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/foundation/catalog/batch/{{BATCH_ID_EVENT}}",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"foundation",
										"catalog",
										"batch",
										"{{BATCH_ID_EVENT}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "5: Profile lookup",
			"item": [
				{
					"name": "5a: Real-time lookup PROFILE data",
					"item": [
						{
							"name": "Export: Retrieve PROFILE data for a customer profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4cb54ab0-d69b-4045-9c09-c36a80cb28a4",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9c9c017e-6cd1-4498-bce2-3f9141590957",
										"exec": [
											"var profile_ID = pm.environment.get(\"PROFILE_ID\");",
											"//pm.variables.set(\"PROFILE_ID_URIENCODED\", profile_ID);",
											"pm.variables.set(\"PROFILE_ID_URIENCODED\", encodeURIComponent(profile_ID));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{ACCESS_TOKEN}}",
										"type": "text"
									},
									{
										"key": "x-api-key",
										"value": "{{API_KEY}}",
										"type": "text"
									},
									{
										"key": "x-gw-ims-org-id",
										"value": "{{IMS_ORG}}",
										"type": "text"
									},
									{
										"key": "x-sandbox-name",
										"value": "{{SANDBOX_NAME}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/core/ups/access/entities?schema.name=_xdm.context.profile&entityId={{PROFILE_ID_URIENCODED}}&entityIdNS=email",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"core",
										"ups",
										"access",
										"entities"
									],
									"query": [
										{
											"key": "schema.name",
											"value": "_xdm.context.profile"
										},
										{
											"key": "entityId",
											"value": "{{PROFILE_ID_URIENCODED}}"
										},
										{
											"key": "entityIdNS",
											"value": "email"
										}
									]
								},
								"description": "Query a profile based on the email address in the PROFILE_ID environment variable. This is the same profile that should have been created by the streaming import call made previously."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "5b: Real-time lookup EVENT data",
					"item": [
						{
							"name": "Export: Retrieve EVENT data for a customer profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fe9aa9c2-a1b1-46b0-a1e4-42b8fd538e82",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0cdc7b4b-dcf0-4575-90f1-09561bf3c7ac",
										"exec": [
											"var profile_ID = pm.environment.get(\"PROFILE_ID\");",
											"//pm.variables.set(\"PROFILE_ID_URIENCODED\", profile_ID);",
											"pm.variables.set(\"PROFILE_ID_URIENCODED\", encodeURIComponent(profile_ID));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"type": "text",
										"value": "no-cache"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "bearer {{ACCESS_TOKEN}}"
									},
									{
										"key": "x-api-key",
										"type": "text",
										"value": "{{API_KEY}}"
									},
									{
										"key": "x-gw-ims-org-id",
										"type": "text",
										"value": "{{IMS_ORG}}"
									},
									{
										"key": "x-sandbox-name",
										"type": "text",
										"value": "{{SANDBOX_NAME}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{PLATFORM_GATEWAY}}/data/core/ups/access/entities?schema.name=_xdm.context.experienceevent&relatedSchema.name=_xdm.context.profile&entityId={{PROFILE_ID_URIENCODED}}&entityIdNS=email",
									"host": [
										"{{PLATFORM_GATEWAY}}"
									],
									"path": [
										"data",
										"core",
										"ups",
										"access",
										"entities"
									],
									"query": [
										{
											"key": "schema.name",
											"value": "_xdm.context.experienceevent"
										},
										{
											"key": "relatedSchema.name",
											"value": "_xdm.context.profile"
										},
										{
											"key": "entityId",
											"value": "{{PROFILE_ID_URIENCODED}}"
										},
										{
											"key": "entityIdNS",
											"value": "email"
										}
									]
								},
								"description": "Query a profile based on the email address in the PROFILE_ID environment variable. This is the same profile that should have been created by the streaming import call made previously."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "X: Supplementary calls",
			"item": [
				{
					"name": "X Get Data Collection URL",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d16399e-b4c8-4f88-83ac-e5cb2920132b",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "bearer {{ACCESS_TOKEN}}",
								"type": "text"
							},
							{
								"key": "x-api-key",
								"value": "{{API_KEY}}",
								"type": "text"
							},
							{
								"key": "x-gw-ims-org-id",
								"value": "{{IMS_ORG}}",
								"type": "text"
							},
							{
								"key": "x-sandbox-name",
								"value": "{{SANDBOX_NAME}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/core/edge/inlet",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"core",
								"edge",
								"inlet"
							]
						}
					},
					"response": []
				},
				{
					"name": "X Schema: Get all tenant Schemas",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4f28bbdd-1784-4719-a701-dfcd2cd51878",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b24cc0d1-35f7-4e44-b71c-b9cf12218e45",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "bearer {{ACCESS_TOKEN}}",
								"type": "text"
							},
							{
								"key": "x-api-key",
								"value": "{{API_KEY}}",
								"type": "text"
							},
							{
								"key": "x-gw-ims-org-id",
								"value": "{{IMS_ORG}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/vnd.adobe.xed+json",
								"type": "text"
							},
							{
								"key": "x-sandbox-name",
								"value": "{{SANDBOX_NAME}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/schemas/",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"schemaregistry",
								"tenant",
								"schemas",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "X Schema: Get all tenant Mixins",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f34d1aae-a123-43e8-b4d8-a15ce5cbb36c",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e545b5a7-2792-494f-bef2-bca14ce71416",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "bearer {{ACCESS_TOKEN}}"
							},
							{
								"key": "x-api-key",
								"type": "text",
								"value": "{{API_KEY}}"
							},
							{
								"key": "x-gw-ims-org-id",
								"type": "text",
								"value": "{{IMS_ORG}}"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.adobe.xed+json"
							},
							{
								"key": "x-sandbox-name",
								"type": "text",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/mixins/",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"schemaregistry",
								"tenant",
								"mixins",
								""
							]
						},
						"description": "Generate a JWT token using the Crypto RS256\nSend to IMS for access_token"
					},
					"response": []
				},
				{
					"name": "X Remove a tenant-defined schema from the registry",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6241e815-82ac-440d-89bd-e5bccd1bcc52",
								"exec": [
									"/** Begin Adobe-provided Pre-Request Scripts **/",
									"// Do not send HTTP Headers with empty variables, as Postman will send the literal variable name",
									"pm.request.headers.each(header => {",
									"    if (header.value.startsWith(\"{{\") && header.value.endsWith(\"}}\")) {",
									"        if (!pm.variables.get(header.value.substring(2, header.value.length - 2))) { pm.request.headers.remove(header.key); }",
									"    }",
									"});",
									"",
									"// Do not send HTTP URL Query Parameters with empty variables, as Postman will send the literal variable name",
									"pm.request.url.query.remove(q => { ",
									"    if (q.value.startsWith(\"{{\") && q.value.endsWith(\"}}\")) {",
									"        return !pm.variables.get(q.value.substring(2, q.value.length - 2));",
									"    } ",
									"});",
									"/** End Adobe-provided Pre-Request Scripts **/"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.adobe.xed+json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"description": "The access token provided after authorization in the format \"Bearer {ACCESS_TOKEN}\"",
								"key": "Authorization",
								"type": "string",
								"value": "Bearer {{ACCESS_TOKEN}}"
							},
							{
								"description": "Your specific API key for your unique Platform configuration ({API_KEY})",
								"key": "x-api-key",
								"type": "string",
								"value": "{{API_KEY}}"
							},
							{
								"description": "Unique Identifier for your IMS Organization ({IMS_ORG})",
								"key": "x-gw-ims-org-id",
								"type": "string",
								"value": "{{IMS_ORG}}"
							},
							{
								"description": "The name of the sandbox in which the operation will take place. See the [sandboxes overview documentation](https://www.adobe.io/apis/experienceplatform/home/permissions-and-sandboxes/permissions-and-sandboxes.html#!api-specification/markdown/narrative/technical_overview/sandboxes/sandboxes-overview.md) for more information.",
								"key": "x-sandbox-name",
								"type": "string",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/schemas/:$id",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"schemaregistry",
								"tenant",
								"schemas",
								":$id"
							],
							"variable": [
								{
									"key": "$id",
									"value": "https%3A%2F%2Fns.adobe.com%2Fexchangeinternal%2Fschemas%2Fd91e4880fa6113dcc4b35fa8eb68a872"
								}
							]
						},
						"description": "<p>Remove an existing schema by performing a DELETE request to the $id of the schema being removed.</p><br/><p>A successful deletion returns an empty response body and HTTP Status Code 204 (No-content).</p>"
					},
					"response": []
				},
				{
					"name": "X Remove a tenant-defined mixin from the registry",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "968dfa5e-d593-4faa-90f9-0c43aedc37ad",
								"exec": [
									"/** Begin Adobe-provided Pre-Request Scripts **/",
									"// Do not send HTTP Headers with empty variables, as Postman will send the literal variable name",
									"pm.request.headers.each(header => {",
									"    if (header.value.startsWith(\"{{\") && header.value.endsWith(\"}}\")) {",
									"        if (!pm.variables.get(header.value.substring(2, header.value.length - 2))) { pm.request.headers.remove(header.key); }",
									"    }",
									"});",
									"",
									"// Do not send HTTP URL Query Parameters with empty variables, as Postman will send the literal variable name",
									"pm.request.url.query.remove(q => { ",
									"    if (q.value.startsWith(\"{{\") && q.value.endsWith(\"}}\")) {",
									"        return !pm.variables.get(q.value.substring(2, q.value.length - 2));",
									"    } ",
									"});",
									"/** End Adobe-provided Pre-Request Scripts **/"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.adobe.xed+json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{ACCESS_TOKEN}}",
								"description": "The access token provided after authorization in the format \"Bearer {ACCESS_TOKEN}\"",
								"type": "string"
							},
							{
								"key": "x-api-key",
								"value": "{{API_KEY}}",
								"description": "Your specific API key for your unique Platform configuration ({API_KEY})",
								"type": "string"
							},
							{
								"key": "x-gw-ims-org-id",
								"value": "{{IMS_ORG}}",
								"description": "Unique Identifier for your IMS Organization ({IMS_ORG})",
								"type": "string"
							},
							{
								"key": "x-sandbox-name",
								"value": "{{SANDBOX_NAME}}",
								"description": "The name of the sandbox in which the operation will take place. See the [sandboxes overview documentation](https://www.adobe.io/apis/experienceplatform/home/permissions-and-sandboxes/permissions-and-sandboxes.html#!api-specification/markdown/narrative/technical_overview/sandboxes/sandboxes-overview.md) for more information.",
								"type": "string"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/schemaregistry/tenant/mixins/:$id",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"schemaregistry",
								"tenant",
								"mixins",
								":$id"
							],
							"variable": [
								{
									"key": "$id",
									"value": "https%3A%2F%2Fns.adobe.com%2Fexchangeinternal%2Fmixins%2Fb86936a70cc84e50b82ef4707971d585"
								}
							]
						},
						"description": "<p>Remove an existing schema by performing a DELETE request to the $id of the schema being removed.</p><br/><p>A successful deletion returns an empty response body and HTTP Status Code 204 (No-content).</p>"
					},
					"response": []
				},
				{
					"name": "X DataSet: Get all DataSets",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b4e5fcc4-3c5d-4f79-8109-2e3af2f05283",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "28221762-5571-4446-8e7b-0e6e678c2956",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "bearer {{ACCESS_TOKEN}}",
								"type": "text"
							},
							{
								"key": "x-api-key",
								"value": "{{API_KEY}}",
								"type": "text"
							},
							{
								"key": "x-gw-ims-org-id",
								"value": "{{IMS_ORG}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/vnd.adobe.xed+json",
								"type": "text"
							},
							{
								"key": "x-sandbox-name",
								"value": "{{SANDBOX_NAME}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/foundation/catalog/dataSets",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"foundation",
								"catalog",
								"dataSets"
							]
						}
					},
					"response": []
				},
				{
					"name": "X Event Config: GET eventTypes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0311ba16-ba72-4eb9-9b32-f9833d84f578",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "bearer {{ACCESS_TOKEN}}"
							},
							{
								"key": "x-api-key",
								"type": "text",
								"value": "{{API_KEY}}"
							},
							{
								"key": "x-gw-ims-org-id",
								"type": "text",
								"value": "{{IMS_ORG}}"
							},
							{
								"key": "x-sandbox-name",
								"type": "text",
								"value": "{{SANDBOX_NAME}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{PLATFORM_GATEWAY}}/data/core/ups/config/eventTypes",
							"host": [
								"{{PLATFORM_GATEWAY}}"
							],
							"path": [
								"data",
								"core",
								"ups",
								"config",
								"eventTypes"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}
